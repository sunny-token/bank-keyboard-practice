(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{4793:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(2311),l=s(2847);let n=["940223400","932699900","623385000","991366200","784512300","657894100","320145600","458796200","123456700","876543200"];function r(){let[e,t]=(0,l.useState)(""),[s,r]=(0,l.useState)(""),[c,i]=(0,l.useState)([]),[d,x]=(0,l.useState)(0),[o,m]=(0,l.useState)(0),[h,p]=(0,l.useState)(0),[u,g]=(0,l.useState)([]),f=(0,l.useRef)(null),y=(0,l.useCallback)(()=>Math.random()>.5&&n.length>0?n[Math.floor(Math.random()*n.length)]:Array.from({length:8+Math.floor(5*Math.random())},()=>Math.floor(10*Math.random())).join(""),[]),w=(0,l.useCallback)(()=>{var e;t(y()),r(""),i([]),x(Date.now()),m(0),p(0),null==(e=f.current)||e.focus()},[y]);(0,l.useEffect)(()=>{w()},[w]),(0,l.useEffect)(()=>{let t=s.split("").map((t,s)=>s<e.length&&t===e[s]?"correct":"wrong");i(t),p(Math.round(t.filter(e=>"correct"===e).length/Math.max(s.length,1)*100)),s.length===e.length&&e&&j(t)},[s,e]),(0,l.useEffect)(()=>{let t;return d>0&&s.length<e.length&&(t=setInterval(()=>{m(Date.now()-d)},100)),()=>clearInterval(t)},[d,s,e]);let b=(0,l.useCallback)(t=>{s.length>=e.length||(t.key>="0"&&t.key<="9"?(r(e=>e+t.key),t.preventDefault()):"Backspace"===t.key?(r(e=>e.slice(0,-1)),t.preventDefault()):"Escape"===t.key||"Delete"===t.key?(r(""),t.preventDefault()):"Enter"===t.key&&s.length===e.length&&j(c))},[s,e]),j=t=>{let a=Math.round(t.filter(e=>"correct"===e).length/e.length*100),l=(Date.now()-d)/1e3;g(t=>[...t,{number:e,input:s,accuracy:a,time:l.toFixed(2)}]),setTimeout(()=>{w()},2e3)};return(0,l.useEffect)(()=>{let e=()=>{var e;return null==(e=f.current)?void 0:e.focus()};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]),(0,l.useEffect)(()=>(window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)),[b]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"银行数字键盘训练系统"}),(0,a.jsx)("p",{className:"text-gray-600",children:"使用物理键盘输入下方显示的数字序列"}),(0,a.jsxs)("div",{className:"mt-6 flex justify-center space-x-8",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 w-32",children:[(0,a.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"用时"}),(0,a.jsxs)("p",{className:"text-2xl font-mono",children:[(o/1e3).toFixed(1),"s"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 w-32",children:[(0,a.jsx)("p",{className:"text-sm text-green-600 mb-1",children:"正确率"}),(0,a.jsxs)("p",{className:"text-2xl font-mono",children:[h,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:["请输入以下数字(长度：",e.length,")："]}),(0,a.jsx)("div",{className:"text-4xl font-mono bg-gray-100 p-6 rounded-xl shadow-inner tracking-widest",onClick:()=>{var e;return null==(e=f.current)?void 0:e.focus()},children:e.split("").map((e,t)=>(0,a.jsx)("span",{className:"inline-block w-12 text-center",children:e},t))})]}),(0,a.jsxs)("div",{className:"relative mb-12 min-h-[80px] border-2 border-gray-300 rounded-xl p-6 font-mono text-3xl tracking-widest flex flex-wrap items-center",onClick:()=>{var e;return null==(e=f.current)?void 0:e.focus()},children:[s.split("").map((e,t)=>(0,a.jsx)("span",{className:"inline-block w-12 text-center ".concat("correct"===c[t]?"text-green-500":"text-red-500 underline"),children:e},t)),s.length<e.length&&(0,a.jsx)("span",{className:"ml-1 animate-pulse bg-gray-800 w-2 h-12 inline-block align-middle"}),(0,a.jsx)("input",{ref:f,type:"text",className:"absolute opacity-0 -z-10",autoFocus:!0})]}),(0,a.jsx)("div",{className:"bg-yellow-50 rounded-lg p-4 mb-8",children:(0,a.jsxs)("p",{className:"text-yellow-700 text-center",children:[(0,a.jsx)("span",{className:"font-semibold",children:"操作说明："}),"使用键盘数字键输入 | Backspace删除 | Delete清空 | Enter提交"]})}),u.length>0&&(0,a.jsxs)("div",{className:"mt-12",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"练习记录"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"序号"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目标数字"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"输入数字"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"正确率"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用时(秒)"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t+1}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:e.number}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:e.input}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full ".concat(e.accuracy>90?"bg-green-100 text-green-800":e.accuracy>70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[e.accuracy,"%"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.time})]},t))})]})})]})]})})}},6094:(e,t,s)=>{Promise.resolve().then(s.bind(s,4793))}},e=>{var t=t=>e(e.s=t);e.O(0,[789,20,358],()=>t(6094)),_N_E=e.O()}]);